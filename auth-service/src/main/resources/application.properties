server.port=8001
spring.application.name=auth-service
springdoc.swagger-ui.path=/swagger-ui.html
spring.config.import=optional:configserver:http://localhost:8888/

# Gmail SMTP
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:nguyentrungthuan417@gmail.com}
spring.mail.password=${MAIL_PASSWORD:msun weom jfrj dnzj}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.default-encoding=UTF-8

# EmailService
app.mail.from=nguyentrungthuan417@gmail.com
app.mail.brand=CRTL_CV
app.mail.otp-subject=ueez bopa vxki nlwu
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Google OAuth Configuration
google.client-id=941069814660-or8vut20mcc30h2lp3lgdrfqd48j4qkc.apps.googleusercontent.com
google.client-secret=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
#google.redirect-uri=http://shopee-fake.id.vn/oauth2/callback
google.redirect-uri=http://localhost:5173/oauth2/callback

# Facebook OAuth Configuration
facebook.client-id=1394221255578112
facebook.client-secret=4b7c88984ad0082264a72696a4f619ae
#facebook.redirect-uri=http://shopee-fake.id.vn/oauth2/callback
facebook.redirect-uri=http://localhost:5173/oauth2/callback

# ============================================
# TỐI ƯU: Tomcat Thread Pool (Low-Medium Traffic Service)
# ============================================
# Maximum số threads xử lý HTTP requests đồng thời
# 200 threads cho phép xử lý 200 requests cùng lúc (phù hợp với auth service có traffic thấp hơn)
server.tomcat.threads.max=200

# Minimum số threads giữ sẵn (luôn có sẵn, không cần tạo mới)
# Giữ 20 threads sẵn để xử lý requests ngay lập tức, tránh delay
server.tomcat.threads.min-spare=20

# Maximum số connections chờ trong queue (khi tất cả threads đang busy)
# Khi 200 threads đều đang xử lý, 200 connections tiếp theo sẽ chờ trong queue
server.tomcat.accept-count=200

# Maximum số connections TCP (tổng số connections server có thể nhận)
# 2000 connections cho phép server chịu tải thấp-trung bình
server.tomcat.max-connections=2000

# Connection timeout (milliseconds = 20 giây)
# Đóng connection nếu không có request trong 20 giây để giải phóng tài nguyên
server.connection-timeout=20000

# Enable compression - Nén response để giảm bandwidth
# Giảm kích thước response (JSON, HTML, CSS, JS) → tăng tốc độ load
server.compression.enabled=true

# Các MIME types sẽ được nén
# Nén text/html, JSON, CSS, JS để giảm kích thước response
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json

# Minimum response size để nén (bytes)
# Chỉ nén response >= 1KB (1024 bytes), vì nén response nhỏ không hiệu quả
server.compression.min-response-size=1024

# ============================================
# Spring Boot Actuator (Monitoring)
# ============================================
# Expose các endpoints của Actuator để monitor service
# health: Kiểm tra service còn sống không
# metrics: Xem các metrics (CPU, memory, requests, etc.)
# info: Thông tin về service
# prometheus: Export metrics theo format Prometheus (để tích hợp với Grafana)
management.endpoints.web.exposure.include=health,metrics,info,prometheus

# Hiển thị chi tiết health check (database, disk, etc.)
# Always: Luôn hiển thị chi tiết (có thể dùng "when-authorized" để bảo mật hơn)
management.endpoint.health.show-details=always
# Tag application name cho metrics
# Giúp phân biệt metrics của các services khác nhau trong Prometheus/Grafana
management.metrics.tags.application=${spring.application.name}